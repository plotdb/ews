!function(){var t,e=function(t){return this._src=(t=null==t?{}:t).src,this.scheme=t.scheme,this.domain=t.domain,this.path=t.path,this._url=t.url||(t.ws?null:(this.scheme||"ws")+"://"+(this.domain||window.location.host)+(this.path||"")),this._ws=t.ws||(this.url?new WebSocket(this.url):null),this._ws&&!this._url&&(this._url=this._ws.url),this._scope=t.scope,this};e.prototype=((t=Object.create(Object.prototype)).addEventListener=function(t,e,n){return this._ws.addEventListener(t,e,n)},t.dispatchEvent=function(t){return this._ws.dispatchEvent(t)},t.removeEventListener=function(t,e,n){return this._ws.removeEventListener(t,e,n)},t.close=function(t,e){return this._ws.close(t,e)},t.send=function(t){return this._ws.send((this._scope||"")+"|"+t)},t),Object.defineProperties(e.prototype,{bufferedAmount:{get:function(){return this._ws.bufferedAmount}},binaryType:{get:function(){return this._ws.binaryType}},protocol:{get:function(){return this._ws.protocol}},readyState:{get:function(){return this._ws.readyState}},url:{get:function(){return this._ws.url}}}),(t=e.prototype).ws=function(){return this._ws},t.pipe=function(t){return new e({ws:this._ws,scope:this._scope+"/"+(t=null==t?"":t),src:this})},t.connect=function(t,e){},t.disconnect=function(t){}}.call(this);
